(()=>{var e={};e.id=687,e.ids=[687],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>l,routeModule:()=>m,tree:()=>c}),r(6579),r(1506),r(5866);var s=r(3191),a=r(8716),i=r(7922),n=r.n(i),o=r(5231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let c=["",{children:["admin",{children:["reviews",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6579)),"C:\\Users\\Admin\\Desktop\\bazara-vpn-site\\src\\app\\admin\\reviews\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"C:\\Users\\Admin\\Desktop\\bazara-vpn-site\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\Admin\\Desktop\\bazara-vpn-site\\src\\app\\admin\\reviews\\page.tsx"],x="/admin/reviews/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/reviews/page",pathname:"/admin/reviews",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1194:(e,t,r)=>{Promise.resolve().then(r.bind(r,9737))},9737:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(326),a=r(7626),i=r.n(a),n=r(7577),o=r(5047);r(6791);var d=r(76),c=r(7619);function l(){let[e,t]=(0,n.useState)(!0),[r,a]=(0,n.useState)([]),l=(0,o.useRouter)(),x=async()=>{let e=(0,d.IO)((0,d.hJ)(c.db,"reviews")),t=await (0,d.PL)(e),r=[];t.forEach(e=>{let t=e.data();"moderation"===t.status&&r.push({id:e.id,name:t.name||"Аноним",text:t.text||"",rating:t.rating||0,status:t.status,createdAt:t.createdAt||null})}),r.sort((e,t)=>{let r=e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().getTime():0;return(t.createdAt&&t.createdAt.toDate?t.createdAt.toDate().getTime():0)-r}),a(r)},p=async(e,t)=>{await (0,d.r7)((0,d.JU)(c.db,"reviews",e),{status:t}),await x()};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center text-2xl",children:"Загрузка..."}):(0,s.jsxs)("main",{className:"jsx-d01e22b530bc0a91 w-full max-w-3xl mx-auto flex flex-col gap-6 py-12 px-4 min-h-screen",children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4},className:"jsx-d01e22b530bc0a91",children:[s.jsx("button",{onClick:()=>l.push("/admin"),style:{background:"none",border:"none",padding:0,marginBottom:2,cursor:"pointer",outline:"none"},title:"Назад",className:"jsx-d01e22b530bc0a91",children:s.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"#ff8800",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transition:"stroke 0.2s"},className:"jsx-d01e22b530bc0a91",children:s.jsx("path",{d:"M15 18l-6-6 6-6",className:"jsx-d01e22b530bc0a91"})})}),(0,s.jsxs)("div",{style:{paddingTop:0},className:"jsx-d01e22b530bc0a91 flex items-center gap-4 mb-2",children:[s.jsx("span",{className:"jsx-d01e22b530bc0a91 text-2xl font-bold text-purple-400",children:"Новые отзывы"}),s.jsx("span",{className:"jsx-d01e22b530bc0a91 badge",children:r.length}),s.jsx("button",{onClick:x,className:"jsx-d01e22b530bc0a91 ml-2 text-sm text-purple-400 hover:text-purple-300",children:"⟳"})]})]}),0===r.length&&s.jsx("div",{className:"jsx-d01e22b530bc0a91 text-gray-400 text-center mt-10",children:"Нет отзывов на модерации"}),r.map(e=>(0,s.jsxs)("div",{className:"jsx-d01e22b530bc0a91 review-card flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"jsx-d01e22b530bc0a91 flex items-center gap-4 mb-1",children:[s.jsx("div",{className:"jsx-d01e22b530bc0a91 font-bold text-lg text-purple-400 flex-1",children:e.name||"Аноним"}),(0,s.jsxs)("div",{className:"jsx-d01e22b530bc0a91 stars",children:["★".repeat(e.rating),"☆".repeat(5-e.rating)]}),s.jsx("div",{className:"jsx-d01e22b530bc0a91 text-sm text-gray-400",children:e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():"-"})]}),s.jsx("div",{className:"jsx-d01e22b530bc0a91 text-base mb-2",children:e.text}),(0,s.jsxs)("div",{className:"jsx-d01e22b530bc0a91 flex gap-2",children:[s.jsx("button",{onClick:()=>p(e.id,"published"),className:"jsx-d01e22b530bc0a91 review-btn",children:"✅ Утвердить"}),s.jsx("button",{onClick:()=>p(e.id,"deleted"),className:"jsx-d01e22b530bc0a91 review-btn",children:"❌ Удалить"})]})]},e.id)),s.jsx(i(),{id:"d01e22b530bc0a91",children:".review-card{background:#232323;-webkit-border-radius:1.2rem;-moz-border-radius:1.2rem;border-radius:1.2rem;-webkit-box-shadow:0 2px 16px 0#a259ff44;-moz-box-shadow:0 2px 16px 0#a259ff44;box-shadow:0 2px 16px 0#a259ff44;padding:1.5rem 2rem;margin-bottom:1.5rem;-webkit-transition:box-shadow.18s,-webkit-transform.15s;-moz-transition:box-shadow.18s,-moz-transform.15s;-o-transition:box-shadow.18s,-o-transform.15s;transition:box-shadow.18s,-webkit-transform.15s;transition:box-shadow.18s,-moz-transform.15s;transition:box-shadow.18s,-o-transform.15s;transition:box-shadow.18s,transform.15s;border:2px solid transparent}.review-card:hover{-webkit-box-shadow:0 8px 32px 0#a259ffcc,0 2px 8px 0#f808;-moz-box-shadow:0 8px 32px 0#a259ffcc,0 2px 8px 0#f808;box-shadow:0 8px 32px 0#a259ffcc,0 2px 8px 0#f808;border-color:#a259ff;-webkit-transform:translatey(-2px)scale(1.01);-moz-transform:translatey(-2px)scale(1.01);-ms-transform:translatey(-2px)scale(1.01);-o-transform:translatey(-2px)scale(1.01);transform:translatey(-2px)scale(1.01)}.review-btn{background:#232323;color:#a259ff;border:1.5px solid#a259ff;-webkit-border-radius:.7em;-moz-border-radius:.7em;border-radius:.7em;padding:.4em 1.2em;margin-right:.7em;margin-bottom:.5em;cursor:pointer;font-size:1em;font-weight:500;-webkit-transition:background.15s,color.15s;-moz-transition:background.15s,color.15s;-o-transition:background.15s,color.15s;transition:background.15s,color.15s}.review-btn:hover{background:#a259ff;color:#fff}.review-btn:last-child{margin-right:0}.badge{background:#ff3b3b;color:#fff;font-weight:bold;-webkit-border-radius:9999px;-moz-border-radius:9999px;border-radius:9999px;padding:.2em .8em;font-size:1.1rem;min-width:2em;text-align:center;margin-left:.7em}.stars{display:inline-block;font-size:1.3em;color:#fb0;letter-spacing:.1em;margin-bottom:.2em}"})]})}},7619:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,db:()=>d});var s=r(2585),a=r(6791),i=r(76);let n=(0,s.C6)().length?(0,s.C6)()[0]:(0,s.ZF)({apiKey:"AIzaSyAouTEXN2lQapElxCEtmebO21t19i2WYns",authDomain:"bazara-vpn-admin.firebaseapp.com",projectId:"bazara-vpn-admin",storageBucket:"bazara-vpn-admin.appspot.com",messagingSenderId:"856281360473",appId:"1:856281360473:web:1b01584e7830672dcb2948"}),o=(0,a.v0)(n),d=(0,i.ad)(n)},6579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\bazara-vpn-site\src\app\admin\reviews\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let o=(0,s.createProxy)(String.raw`C:\Users\Admin\Desktop\bazara-vpn-site\src\app\admin\reviews\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,471,271,9],()=>r(3055));module.exports=s})();