(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{7626:function(e,t,s){Promise.resolve().then(s.bind(s,9535))},9535:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var a=s(7437),l=s(2265),n=s(6648);function r(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(""),[i,c]=(0,l.useState)(!1),[o,x]=(0,l.useState)(30),[d,m]=(0,l.useState)(!1),[u,f]=(0,l.useState)(""),[h,b]=(0,l.useState)(!1),[w,p]=(0,l.useState)(!1);(0,l.useRef)(null);let[N,v]=(0,l.useState)(1),[j,g]=(0,l.useState)([]);async function S(){t(!0),r("");try{let e=await fetch("https://vpn.bazara.app:5001/clean_expired",{method:"POST"}),t=await e.json();t&&"number"==typeof t.removed?r("Удалено пользователей: ".concat(t.removed)):t&&"ok"===t.status?r("Устаревшие пользователи удалены!"):r("Готово, но сервер не вернул подробностей.")}catch(e){r("Ошибка соединения или сервера")}finally{t(!1)}}return(0,a.jsxs)("main",{className:"w-full max-w-2xl mx-auto flex flex-col gap-10 py-16 px-4 items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-white mb-12",children:"Общая панель"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-10 w-full justify-center items-center",children:[(0,a.jsxs)("div",{className:"bg-[#232323] rounded-3xl shadow-2xl p-8 flex flex-col items-center hover:scale-105 transition-transform cursor-pointer max-w-xs w-full border border-[#333]",onClick:S,style:{minWidth:260},children:[(0,a.jsx)(n.default,{src:"/assets/old.png",alt:"Удалить устаревших",width:120,height:120,className:"mb-4"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white mb-2 text-center",children:"Удалить устаревших пользователей"}),(0,a.jsx)("div",{className:"text-base text-gray-400 text-center",children:"Автоматически удаляет пользователей, у которых закончился срок действия подписки."}),e&&(0,a.jsx)("div",{className:"mt-4 text-orange-400 font-semibold",children:"Удаление..."}),s&&(0,a.jsx)("div",{className:"mt-4 text-orange-400 font-semibold",children:s})]}),(0,a.jsxs)("div",{className:"bg-[#232323] rounded-3xl shadow-2xl p-8 flex flex-col items-center hover:scale-105 transition-transform cursor-pointer max-w-xs w-full border border-[#333]",onClick:()=>window.location.href="/admin/links",style:{minWidth:260},children:[(0,a.jsx)(n.default,{src:"/assets/link-3d.png",alt:"Все ссылки",width:120,height:120,className:"mb-4"}),(0,a.jsx)("div",{className:"text-xl font-bold text-white mb-2 text-center",children:"Посмотреть все ссылки"}),(0,a.jsx)("div",{className:"text-base text-gray-400 text-center",children:"Просмотр, фильтрация и удаление всех сгенерированных VPN-ссылок."})]})]})]})}}},function(e){e.O(0,[648,971,23,744],function(){return e(e.s=7626)}),_N_E=e.O()}]);