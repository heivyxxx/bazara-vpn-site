"use strict";(()=>{var e={};e.id=6,e.ids=[6],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},1818:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{POST:()=>d});var a=r(9303),o=r(8716),n=r(670),u=r(7070),i=r(6113),p=r.n(i);let c=process.env.TELEGRAM_BOT_TOKEN;async function d(e){try{let t=await e.json();if(!c)return u.NextResponse.json({success:!1,error:"Bot token not configured"},{status:500});if(!function(e){let{hash:t,...r}=e,s=Object.keys(r).sort().map(e=>`${e}=${r[e]}`).join("\n"),a=p().createHash("sha256").update(c||"").digest();return p().createHmac("sha256",a).update(s).digest("hex")===t}(t))return u.NextResponse.json({success:!1,error:"Invalid authorization"},{status:401});let r=t.auth_date;if(Math.floor(Date.now()/1e3)-r>86400)return u.NextResponse.json({success:!1,error:"Authorization expired"},{status:401});return u.NextResponse.json({success:!0,user:{id:t.id,name:t.first_name,username:t.username}})}catch(e){return console.error("Telegram auth error:",e),u.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/telegram/route",pathname:"/api/auth/telegram",filename:"route",bundlePath:"app/api/auth/telegram/route"},resolvedPagePath:"C:\\Users\\Admin\\Desktop\\bazara-vpn-site\\src\\app\\api\\auth\\telegram\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:x}=l,g="/api/auth/telegram/route";function v(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972],()=>r(1818));module.exports=s})();