<!-- Header/Navbar (универсальный для всех страниц) -->
<nav class="fixed top-0 left-0 w-full z-20 bg-[#181818] shadow-sm border-b border-orange-900" id="main-navbar">
  <div class="max-w-6xl mx-auto flex items-center justify-between py-4 px-4 md:px-8 text-lg gap-8">
    <div class="flex items-center gap-3 logo-home cursor-pointer flex-shrink-0">
      <a href="index.html" class="flex items-center gap-3">
        <img src="/assets/logo-bazara.png" alt="BazaraVPN Logo" class="h-10 w-10">
        <span class="text-3xl font-bold text-orange-500">Bazara<span class="text-white">VPN</span></span>
      </a>
    </div>
    <div class="flex-1 flex justify-center">
      <ul class="flex items-center gap-8 font-semibold">
        <li class="relative group" id="advantages-menu">
          <a href="index.html#advantages" class="text-white hover:text-orange-500 transition flex items-center gap-1 py-2 px-2 rounded-lg">
            Преимущества
            <svg class="w-5 h-5 text-orange-400 group-hover:rotate-180 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
          </a>
          <!-- MegaMenu -->
          <div id="mega-advantages" class="hidden group-hover:flex group-focus-within:flex absolute left-0 top-full mt-3 w-[700px] bg-[#232323] border border-orange-700 rounded-2xl shadow-2xl p-6 z-50 text-white animate-fade-in flex gap-8">
            <div class="flex-1 min-w-[220px] flex flex-col gap-4">
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">Что такое VPN?</div>
                <div class="text-gray-200 text-sm">VPN — это технология для анонимности, безопасности и обхода блокировок в интернете.</div>
              </div>
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">Почему BazaraVPN?</div>
                <div class="text-gray-200 text-sm">Без логов, высокая скорость, поддержка стриминга и торрентов, современные протоколы.</div>
              </div>
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">Все функции</div>
                <div class="text-gray-200 text-sm">Мультиустройство, защита Wi-Fi, смена IP, доступ к контенту по всему миру.</div>
              </div>
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">VPN-серверы</div>
                <div class="text-gray-200 text-sm">Сервера в 10+ странах для стабильного и быстрого соединения.</div>
              </div>
            </div>
            <div class="flex-1 min-w-[220px] flex flex-col gap-4">
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">VPN для стриминга</div>
                <div class="text-gray-200 text-sm">Смотрите Netflix, Hulu, Disney+ и другие сервисы без ограничений.</div>
              </div>
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">Страны</div>
                <div class="text-gray-200 text-sm">США, Турция, Япония, Германия, Франция, и другие.</div>
              </div>
              <div>
                <div class="font-bold text-lg text-orange-400 mb-1">Устройства</div>
                <div class="text-gray-200 text-sm">Windows, macOS, Android, iOS, роутеры.</div>
              </div>
            </div>
          </div>
        </li>
        <li><a href="tariffs.html" class="text-white hover:text-orange-500 transition py-2 px-2 rounded-lg">Тарифы</a></li>
        <li class="relative group" id="download-menu">
          <a href="/download" class="px-4 py-2 hover:bg-[#181818] cursor-pointer" data-i18n="header-download">Скачать</a>
          <!-- MegaMenu for Download -->
          <div id="mega-download" class="hidden group-hover:flex group-focus-within:flex absolute left-0 top-full mt-3 w-[500px] min-w-[320px] bg-[#232323] border border-orange-700 rounded-2xl shadow-2xl p-8 z-50 text-white animate-fade-in flex gap-10">
            <div class="flex-1 min-w-[220px] flex flex-col gap-4">
              <div class="font-bold text-orange-400 mb-2">Устройства</div>
              <a href="install-windows.html" class="flex items-center gap-2 py-2 hover:text-orange-400 transition whitespace-nowrap"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="6" width="18" height="12" rx="2"/></svg>Windows</a>
              <a href="install-macos.html" class="flex items-center gap-2 py-2 hover:text-orange-400 transition whitespace-nowrap"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="4"/></svg>macOS</a>
              <a href="install-linux.html" class="flex items-center gap-2 py-2 hover:text-orange-400 transition whitespace-nowrap"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M8 8h8v8H8z"/></svg>Linux</a>
              <a href="install-android.html" class="flex items-center gap-2 py-2 hover:text-orange-400 transition whitespace-nowrap"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="6" y="2" width="12" height="20" rx="4"/></svg>Android</a>
              <a href="install-ios.html" class="flex items-center gap-2 py-2 hover:text-orange-400 transition whitespace-nowrap"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="6" y="2" width="12" height="20" rx="4"/></svg>iPhone / iPad</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="flex items-center gap-6 flex-shrink-0">
      <!-- Поддержка -->
      <a href="support.html" class="flex items-center gap-2 text-orange-500 font-bold py-2 px-3 rounded-lg border border-orange-500 bg-[#232323]">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
        <span class="hidden md:inline">Поддержка</span>
      </a>
      <!-- Language Switcher Dropdown (в навбаре) -->
      <div id="lang-switcher" class="relative flex items-center gap-2 select-none">
        <button id="lang-dropdown-btn" class="flex items-center gap-2 px-3 py-2 bg-[#232323] rounded-lg border border-gray-700 text-white hover:bg-[#2c2c2c] focus:outline-none text-base">
          <svg class="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 0 20M12 2a15.3 15.3 0 0 0 0 20"/></svg>
          <span id="lang-current" class="font-semibold">Русский</span>
          <svg class="w-5 h-5 ml-1 text-gray-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
        </button>
        <div id="lang-dropdown" class="hidden absolute right-0 mt-2 w-60 bg-[#232323] border border-gray-700 rounded-lg shadow-lg py-1 z-50">
          <!-- Языки будут добавлены через JS -->
        </div>
      </div>
    </div>
  </div>
</nav>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const downloadMenu = document.getElementById('download-menu');
    const megaDownload = document.getElementById('mega-download');
    if (downloadMenu && megaDownload) {
      let overMenu = false;
      let overDropdown = false;
      downloadMenu.addEventListener('mouseenter', () => {
        overMenu = true;
        megaDownload.classList.add('flex');
        megaDownload.classList.remove('hidden');
      });
      downloadMenu.addEventListener('mouseleave', () => {
        setTimeout(() => {
          if (!overDropdown) {
            megaDownload.classList.remove('flex');
            megaDownload.classList.add('hidden');
          }
        }, 80);
        overMenu = false;
      });
      megaDownload.addEventListener('mouseenter', () => {
        overDropdown = true;
        megaDownload.classList.add('flex');
        megaDownload.classList.remove('hidden');
      });
      megaDownload.addEventListener('mouseleave', () => {
        setTimeout(() => {
          if (!overMenu) {
            megaDownload.classList.remove('flex');
            megaDownload.classList.add('hidden');
          }
        }, 80);
        overDropdown = false;
      });
    }
  });
</script> 